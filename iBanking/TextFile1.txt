CREATE DATABASE iBanking;
GO
USE iBanking;
GO

CREATE TABLE AdminTable(
	Id INT PRIMARY KEY NOT NULL IDENTITY(1,1),
	UserName VARCHAR(100) NOT NULL,
	Password VARCHAR(100) NOT NULL,
	RoleId INT NOT NULL,
	EmployeeId INT,
);
GO

INSERT INTO AdminTable VALUES ('Admin','Admin',1,0)
INSERT INTO AdminTable VALUES ('deepro','deepro',1,0)
GO

--SELECT * 
--FROM AdminTable
--GO

CREATE TABLE CustomerAccount(
	[CustomerId] INT PRIMARY KEY NOT NULL IDENTITY(1,1),
	[AccountNo] DECIMAL NOT NULL ,
	[Name] NVARCHAR(100) NULL,
	[DoB] DATE NULL,
	[AccountType] NVARCHAR(50) NULL,
	[PhoneNo] NVARCHAR(50) NULL,
	[Address]  NVARCHAR(MAX) NULL,
	[State]  NVARCHAR(50) NULL,
	[Picture] IMAGE NULL,
	[Gender]  NVARCHAR(50) NULL,
	[MaritalStatus] NVARCHAR(50) NULL,
	[FathersName] NVARCHAR(100) NULL,
	[MothersName] NVARCHAR(100) NULL,
	[Balance] DECIMAL NULL,
	[Date] DATE NULL,
);
GO 

INSERT INTO CustomerAccount (AccountNo) VALUES ('1000000000');
--SELECT *
--FROM CustomerAccount
--GO

CREATE TABLE Debit(
	[SNo] INT PRIMARY KEY NOT NULL IDENTITY(1,1),
	[Date] DATE NOT NULL,
	[AccountNo] DECIMAL NULL,
	[Name] NVARCHAR(50) NULL,
	[OldBalance] DECIMAL NULL,
	[Mode] NVARCHAR(50) NULL,
	[DebitAmount] DECIMAL NULL,
	[Remarks] NVARCHAR(100) NULL
);
GO

CREATE TABLE Deposit(
	[SNo] INT PRIMARY KEY NOT NULL IDENTITY(1,1),
	[AccountNo] DECIMAL NULL,
	[Name] NVARCHAR(50) NULL,
	[OldBalance] DECIMAL NULL,
	[Mode] NVARCHAR(50) NULL,
	[DepositAmount] DECIMAL NULL,
	[Date] DATE NULL,
);
GO

--SELECT *
--FROM Deposit
--GO

CREATE TABLE Employee(
	[EmployeeId] INT PRIMARY KEY NOT NULL IDENTITY(1,1),
	[EmployeeName] NVARCHAR(100) NULL,
	[Gender] NVARCHAR(50) NULL,
	[DateOfBirth] DATE NULL,
	[PhoneNo] NVARCHAR(50),
	[Address] NVARCHAR(MAX) NULL,
	[UserName] NVARCHAR(50) NULL,
	[Password] NVARCHAR(50) NULL
);
GO

CREATE TABLE FixedDeposit(
	[SNo] INT PRIMARY KEY NOT NULL IDENTITY(1,1),
	[AccountNo] DECIMAL NULL,
	[Mode] NVARCHAR(50) NULL,
	[GBP] NVARCHAR(50) NULL,
	[Period] INT NULL,
	[InterestRate] DECIMAL NULL,
	[MaturityDate] DATE NULL,
	[MaturityAmount] DECIMAL NULL,
	[StartDate] DATE NULL
);
GO

CREATE TABLE [Transfer](
	[SNo] INT PRIMARY KEY NOT NULL IDENTITY(1,1),
	[Date] DATE NULL,
	[AccountNo] DECIMAL NULL,
	[Name] NVARCHAR(50) NULL,
	[Balance] DECIMAL NULL,
	[ToTransfer] DECIMAL NULL,
);
GO

--SELECT*
--FROM Transfer

CREATE TABLE UserTable(
	[Id] INT PRIMARY KEY NOT NULL IDENTITY(1,1),
	[UserName] NVARCHAR(50) NULL,
	[Password] NVARCHAR(50) NULL,
);

--SELECT*
--FROM UserTable

GO
CREATE TABLE Payee(
	PayeeId INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	PayeeName VARCHAR(50) NOT NULL,
	EmailId VARCHAR(100) NULL,
	PhoneNo VARCHAR(20) NULL
)

GO

CREATE TABLE tblPayment(
	PaymentId INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	AccountId INT NOT NULL,
	PayeeId INT NOT NULL,
	AganestOf VARCHAR(50) NULL,
	Description VARCHAR(250) NULL,
	Amount DECIMAL NOT NULL
)

GO

CREATE TABLE tblOverDraft(
	Id INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	AccountNo INT NOT NULL,
	AccountName VARCHAR(100) NULL,
	CreateDate DATE NOT NULL,
	PeriodDate DATE NOT NULL,
	OdAmount DECIMAL NOT NULL,
)

GO

CREATE TABLE tblInterest(
	Id INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	AccountNo INT NOT NULL,
	AccountName VARCHAR(100),
	InterestRate DECIMAL NOT NULL,
	ThresholdAmount DECIMAL NOT NULL
)

GO

CREATE TABLE tblProcessInterest(
 Id INT NOT NULL PRIMARY KEY IDENTITY(1,1),
 AccountNo INT NOT NULL,
 AccountName VARCHAR(100) NULL,
 Balance DECIMAL NOT NULL,
 InterestRate DECIMAL NOT NULL,
 InterestAmount DECIMAL NOT NULL,
 TotalAmount DECIMAL NOT NULL
)